{"title":"骨架屏初步整理","slug":"骨架屏初步整理","date":"2020-11-03T20:51:30.000Z","updated":"2020-11-09T03:13:56.884Z","comments":true,"excerpt":"","content":"<h4 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h4><p> 数据未加载前，将页面大致结构展现，直到数据返回，渲染页面补充进要显示的数据</p>\n<h4 id=\"用途\"><a href=\"#用途\" class=\"headerlink\" title=\"用途\"></a>用途</h4><p> 常用于文章列表，动态列表相对比较规则的页面</p>\n<ul>\n<li>1.spa路由切换的loading，结合组件生命周期和ajax返回时机使用</li>\n<li>2.首屏渲染的优化</li>\n<li>3.微信小程序骨架屏</li>\n</ul>\n<h4 id=\"第一类\"><a href=\"#第一类\" class=\"headerlink\" title=\"第一类\"></a>第一类</h4><blockquote>\n<p>要自己要自己编写骨架屏,推荐两个成熟方便定制的svg组件定制为骨架屏的方案</p>\n</blockquote>\n<ul>\n<li>react-content-loader</li>\n<li>vue-content-loader</li>\n</ul>\n<h4 id=\"vue-content-loader\"><a href=\"#vue-content-loader\" class=\"headerlink\" title=\"vue-content-loader\"></a>vue-content-loader</h4><p><a href=\"https://madewith.cn/318\">链接</a></p>\n<ul>\n<li>默认骨架<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ContentLoader,</span><br><span class=\"line\">FacebookLoader,</span><br><span class=\"line\">CodeLoader,</span><br><span class=\"line\">BulletListLoader,</span><br><span class=\"line\">InstagramLoader,</span><br><span class=\"line\">ListLoader</span><br></pre></td></tr></table></figure></li>\n<li>支持自定义绘制<a href=\"https://skeletonreact.com/?from=madewith.cn\">链接</a></li>\n</ul>\n<p>安装</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install vue-content-loader --save</span><br></pre></td></tr></table></figure>\n<p>使用</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; ContentLoader &#125; from &#39;vue-content-loader&#39;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    ContentLoader</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;content-loader&gt;&lt;&#x2F;content-loader&gt;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h4 id=\"第二类\"><a href=\"#第二类\" class=\"headerlink\" title=\"第二类\"></a>第二类</h4><blockquote>\n<p>首屏渲染(自动化方法)<br><a href=\"https://github.com/ElemeFE/page-skeleton-webpack-plugin\">page-skeleton-webpack-plugin</a></p>\n</blockquote>\n<p>Page Skeleton 是一款 webpack 插件，该插件的目的是根据你项目中不同的路由页面生成相应的骨架屏页面，并将骨架屏页面通过 webpack 打包到对应的静态路由页面中。</p>\n<p>该插件依赖于 <a href=\"https://github.com/jantimon/html-webpack-plugin\">html-webpack-plugin</a> <code>使用vue-cli时内部已依赖不用单独配置</code></p>\n<blockquote>\n<p>本文使用的是vue-cli + page-skeleton-webpack-plugin</p>\n</blockquote>\n<ul>\n<li>vue-cli 版本4.5.8</li>\n</ul>\n<h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;安装cli</span><br><span class=\"line\">sudo npm install -g @vue&#x2F;cli</span><br><span class=\"line\">&#x2F;&#x2F;查看版本</span><br><span class=\"line\">vue --version</span><br><span class=\"line\">&#x2F;&#x2F;创建项目</span><br><span class=\"line\">vue create myapp</span><br><span class=\"line\">&#x2F;&#x2F;配合vue-router使用</span><br><span class=\"line\">&#x2F;&#x2F;常规安装vue-router  ||  vue add router</span><br><span class=\"line\">&#x2F;&#x2F;配置 路由</span><br></pre></td></tr></table></figure>\n\n<p>router.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import Vue from &quot;vue&quot;;</span><br><span class=\"line\">import Router from &quot;vue-router&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">import App from &quot;.&#x2F;components&#x2F;HelloWorld.vue&quot;;</span><br><span class=\"line\">import Search from &quot;.&#x2F;components&#x2F;search.vue&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">Vue.use(Router);</span><br><span class=\"line\"></span><br><span class=\"line\">export default new Router(&#123;</span><br><span class=\"line\">  mode: &quot;history&quot;, </span><br><span class=\"line\">  routes: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: &quot;&#x2F;&quot;,</span><br><span class=\"line\">      name: &quot;home&quot;,</span><br><span class=\"line\">      component: App,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: &quot;&#x2F;search&quot;,</span><br><span class=\"line\">      name: &quot;search&quot;,</span><br><span class=\"line\">      component: Search,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> <code>注意</code>这里选择history模式，想根据路由生成骨架屏，不能使用hash模式</p>\n<p>main.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import Vue from &quot;vue&quot;;</span><br><span class=\"line\">import App from &quot;.&#x2F;App.vue&quot;;</span><br><span class=\"line\">import router from &quot;.&#x2F;router&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">Vue.config.productionTip &#x3D; false;</span><br><span class=\"line\"></span><br><span class=\"line\">new Vue(&#123;</span><br><span class=\"line\">  render: (h) &#x3D;&gt; h(App),</span><br><span class=\"line\">  router,</span><br><span class=\"line\">&#125;).$mount(&quot;#app&quot;);</span><br></pre></td></tr></table></figure>\n\n<p>App.vue</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class&#x3D;&quot;app&quot;&gt;</span><br><span class=\"line\">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class=\"line\">  &lt;&#x2F;div&gt;</span><br><span class=\"line\">&lt;&#x2F;template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;&#x2F;script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">.app &#123;</span><br><span class=\"line\">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class=\"line\">  -webkit-font-smoothing: antialiased;</span><br><span class=\"line\">  -moz-osx-font-smoothing: grayscale;</span><br><span class=\"line\">  text-align: center;</span><br><span class=\"line\">  color: #2c3e50;</span><br><span class=\"line\">  margin-top: 60px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;&#x2F;style&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>安装骨架屏插件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev page-skeleton-webpack-plugin</span><br></pre></td></tr></table></figure>\n\n<p>过程中会去安装puppeteer，，比较慢，容易出错</p>\n<p>安装成功后</p>\n<p>根目录创建 vue.config.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; SkeletonPlugin &#125; &#x3D; require(&quot;page-skeleton-webpack-plugin&quot;);</span><br><span class=\"line\">const path &#x3D; require(&quot;path&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports &#x3D; &#123;</span><br><span class=\"line\">  configureWebpack: &#123;</span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">      new SkeletonPlugin(&#123;</span><br><span class=\"line\">        pathname: path.resolve(__dirname, &quot;.&#x2F;shell&quot;), &#x2F;&#x2F; 用来存储 shell 文件的地址</span><br><span class=\"line\">        staticDir: path.resolve(__dirname, &quot;.&#x2F;dist&quot;), &#x2F;&#x2F; 最好和 &#96;output.path&#96; 相同</span><br><span class=\"line\">        routes: [&quot;&#x2F;&quot;, &quot;&#x2F;search&quot;], &#x2F;&#x2F; 将需要生成骨架屏的路由添加到数组中</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  chainWebpack: (config) &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; 解决vue-cli3脚手架创建的项目压缩html 干掉&lt;!-- shell --&gt;导致骨架屏不生效</span><br><span class=\"line\">    console.log(&quot;------&quot;, process.env.NODE_ENV);</span><br><span class=\"line\">    if (process.env.NODE_ENV !&#x3D;&#x3D; &quot;development&quot;) &#123;</span><br><span class=\"line\">      config.plugin(&quot;html&quot;).tap((opts) &#x3D;&gt; &#123;</span><br><span class=\"line\">        opts[0].minify.removeComments &#x3D; false;</span><br><span class=\"line\">        return opts;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>运行</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n<p>这个过程可能会报错<br>可能是address already in use :::8989 at Server，修改成任何端口，依然提示端口被占用的bug。</p>\n<p>解决方法<br>在node_modules/page-skeleton-webpack-plugin-master/src/skeletonPlugin.js 文件中修改</p>\n<p>在SkeletonPlugin.prototype.createServer里加一个if判断</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; const server &#x3D; this.server &#x3D; new Server(this.options) &#x2F;&#x2F; eslint-disable-line no-multi-assign</span><br><span class=\"line\">&#x2F;&#x2F; server.listen().catch(err &#x3D;&gt; server.log.warn(err))</span><br><span class=\"line\">if (!this.server) &#123;</span><br><span class=\"line\">const server &#x3D; this.server &#x3D; new Server(this.options) &#x2F;&#x2F; eslint-disable-line no-multi-assign</span><br><span class=\"line\">server.listen().catch(err &#x3D;&gt; server.log.warn(err))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://juejin.im/post/6844904177936629774\">其他问题 - 官方demo采坑史</a></p>\n<p>运行成功会显示<br><img src=\"https://upload-images.jianshu.io/upload_images/21448083-5c41fcb5addb14b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>在控制台输入toggleBar 或者 cmd+回车<br><img src=\"https://upload-images.jianshu.io/upload_images/21448083-f13f36b3bb0e8f1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>然后点击那个control bar，生成骨架屏预览<br><img src=\"https://upload-images.jianshu.io/upload_images/21448083-169b9d91d284d93c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>这里可进行调整，通过routes切换路由<br><img src=\"https://upload-images.jianshu.io/upload_images/21448083-2eec448b3bc5165f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>确认ok点击右上角保存【那个铅笔的icon】这时会在项目目录中生成shell文件-骨架屏文件</p>\n<p>最后注入骨架屏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n\n<p><code>注意</code>执行前在public/index.html中加入</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class=\"line\">     &lt;!-- shell --&gt;</span><br><span class=\"line\">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>\n<p>ok，骨架屏就被打包注入到dist项目中了</p>\n<p>目前官方demo还有很多坑，引入的时候还要多留意</p>\n<hr>\n<h4 id=\"【2】骨架屏生成工具\"><a href=\"#【2】骨架屏生成工具\" class=\"headerlink\" title=\"【2】骨架屏生成工具\"></a>【2】骨架屏生成工具</h4><p><a href=\"https://github.com/kaola-fed/awesome-skeleton\">awesome-skeleton</a><br>基于node生成骨架屏 png 图片、base64 文本、html 文件</p>\n<p>全局安装</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i awesome-skeleton -g</span><br></pre></td></tr></table></figure>\n<p>局部安装</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i awesome-skeleton -D</span><br></pre></td></tr></table></figure>\n\n<p>skeleton.config.json:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;pageName&quot;: &quot;baidu&quot;,</span><br><span class=\"line\">  &quot;pageUrl&quot;: &quot;https:&#x2F;&#x2F;www.baidu.com&quot;,</span><br><span class=\"line\">  &quot;openRepeatList&quot;: false,</span><br><span class=\"line\">  &quot;device&quot;: &quot;iPhone X&quot;,</span><br><span class=\"line\">  &quot;minGrayBlockWidth&quot;: 80,</span><br><span class=\"line\">  &quot;minGrayPseudoWidth&quot;: 10,</span><br><span class=\"line\">  &quot;debug&quot;: true,</span><br><span class=\"line\">  &quot;debugTime&quot;: 3000,</span><br><span class=\"line\">  &quot;cookies&quot;: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      &quot;domain&quot;: &quot;.baidu.com&quot;,</span><br><span class=\"line\">      &quot;expirationDate&quot;: 1568267131.555328,</span><br><span class=\"line\">      &quot;hostOnly&quot;: false,</span><br><span class=\"line\">      &quot;httpOnly&quot;: false,</span><br><span class=\"line\">      &quot;name&quot;: &quot;BDORZ&quot;,</span><br><span class=\"line\">      &quot;path&quot;: &quot;&#x2F;&quot;,</span><br><span class=\"line\">      &quot;sameSite&quot;: &quot;unspecified&quot;,</span><br><span class=\"line\">      &quot;secure&quot;: false,</span><br><span class=\"line\">      &quot;session&quot;: false,</span><br><span class=\"line\">      &quot;storeId&quot;: &quot;0&quot;,</span><br><span class=\"line\">      &quot;value&quot;: &quot;yyyyyyyyy&quot;,</span><br><span class=\"line\">      &quot;id&quot;: 2</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>package.json</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;skeleton&quot;: &quot;skeleton -c .&#x2F;skeleton.config.json&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run skeleton</span><br></pre></td></tr></table></figure>\n<p>以demo baidu为例</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/21448083-29cf95f008c122f5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/21448083-4f4b54b39470783f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<hr>\n<h4 id=\"小程序\"><a href=\"#小程序\" class=\"headerlink\" title=\"小程序\"></a>小程序</h4><p>小程序开发者工具提供了自动生成骨架屏代码的能力</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/21448083-ce2c4c50671d6009.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>位于模拟器右下角<br>点击后会在当前目录中生成</p>\n<ul>\n<li>page.skeleton.wxml</li>\n<li>page.skeleton.wxss<br>两个文件</li>\n</ul>\n<p>通过template方式引入,通过if控制显示</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;* pages&#x2F;index&#x2F;index.wxss 中引入样式 *&#x2F;</span><br><span class=\"line\">@import &quot;index.skeleton.wxss&quot;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- pages&#x2F;index&#x2F;index.wxml 引入模板 --&gt;</span><br><span class=\"line\">&lt;import src&#x3D;&quot;index.skeleton.wxml&quot;&#x2F;&gt;</span><br><span class=\"line\">&lt;template is&#x3D;&quot;skeleton&quot; wx-if&#x3D;&quot;&#123;&#123;loading&#125;&#125;&quot; data&#x3D;&quot;&#123;&#123;&#125;&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>骨架屏相关配置<br>可在 project.config.json 增加字段 skeleton-config 进行骨架屏相关配置，页面配置会覆盖掉全局配置。</p>\n<p>还可进行区域拆分显示</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/skeleton.html\">传送门</a></p>\n","categories":[],"tags":[{"name":"骨架屏","path":"api/tags/骨架屏.json"}]}